<?xml version="1.0" encoding="utf-8"?>
<root xmlns:android="http://schemas.android.com/apk/res/android">
  <init>
    <log text="DolbyIO plugin init"/>
  </init>

  <gradleProperties>
    <insert>
      ANDROID_TOOLS_BUILD_GRADLE_VERSION=com.android.tools.build:gradle:7.3.1
    </insert>
  </gradleProperties>

  <soLoadLibrary>
    <loadLibrary
      name="dolbyio_comms_sdk_android_cppsdk"
      failmsg="Could not load libdolbyio_comms_sdk_android_cppsdk.so" />
  </soLoadLibrary>

  <baseBuildGradleAdditions>
    <insert>
      allprojects {
        repositories {
          flatDir {
    </insert>
    <insertValue value="dirs '$S(AbsPluginDir)/../sdk-release-android'"/>
    <insertNewline/>
    <insert>}}}</insert>
  </baseBuildGradleAdditions>

  <buildGradleAdditions>
    <insert>
      dependencies {
        implementation name: 'comms-sdk-android-cppsdk-noprefab-2.7.0', ext: 'aar'
        implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.7.20'
      }
      android {
        packagingOptions {
          pickFirst 'assets/model.dnr'
        }
      }
    </insert>
  </buildGradleAdditions>

</root>
